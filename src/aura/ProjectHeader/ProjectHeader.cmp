<!--
 - Created by SarahRenfro on 7/25/2019.
 -->

<aura:component description="ProjectHeader" implements="forceCommunity:availableForAllPageTypes,force:hasRecordId" controller="MyAccountController">
  <aura:handler name="init" value="{!this}" action="{!c.doInit}"/>
    <aura:attribute name="recordId" type="String"/>
  <aura:attribute name="project" type="Shared_Solar_System__c" default="{'sobjectType' : 'Shared_Solar_System__c', 'Name':''}"/>
  <aura:attribute name="picture" type="String"/>



  <lightning:layout class="slds-align--absolute-center" multipleRows="false">
    <lightning:layoutItem size="12" mediumDeviceSize="9" largeDeviceSize="6" class="picture slds-align--absolute-center slds-image" >
        <img src="{!v.project.Project_Image__c}" alt="myproject" style="{!'min-width:100%; min-height:100% overflow:hidden'}" />
    </lightning:layoutItem>
  </lightning:layout>
  <aura:if isTrue="{!v.project.Waitlist__c}">
    <lightning:layout class="slds-align--absolute-center" multipleRows="true">
      <lightning:layoutItem size="12" mediumDeviceSize="9" largeDeviceSize="6" class=" impactNumbers slds-align-content-center">
        <div class="header slds-align--absolute-center">
          More info to come soon!
        </div>
      </lightning:layoutItem>
    </lightning:layout>
    <aura:set attribute="else">

  <lightning:layout class="slds-align--absolute-center" multipleRows="true">
    <lightning:layoutItem size="12" mediumDeviceSize="3" largeDeviceSize="2" class="impactNumbers slds-align-content-center ">
      <div class="icon slds-align-content-center slds-p-bottom--small slds-m-top--x-small">
        <img src="{!$Resource.treesIcon}" style="height: 100%" class="slds-align--absolute-center"/>
      </div>

      <div class="count slds-m-bottom--xx-small">
        {!v.project.Metric_Tons_of_CO2_Offset__c}
      </div>

      <div class="detail slds-p-vertical--x-small">
        metric tons of CO2 offset per year
      </div>

    </lightning:layoutItem>
    <lightning:layoutItem size="12" mediumDeviceSize="3" largeDeviceSize="2" class="impactNumbers slds-align-content-center ">
      <div class="icon slds-align-content-center slds-p-bottom--small slds-m-top--x-small">
        <img src="{!$Resource.houseIcon}" style="height: 100%" class="slds-align--absolute-center"/>
      </div>

      <div class="count slds-m-bottom--xx-small">
        {!v.project.Home_Electricity_Offset__c}
      </div>

      <div class="detail slds-p-vertical--x-small">
        single-family homes powered in a year
      </div>

    </lightning:layoutItem>
    <lightning:layoutItem size="12" mediumDeviceSize="3" largeDeviceSize="2" class="impactNumbers">
      <div class="icon slds-align-content-center slds-p-bottom--small slds-m-top--x-small">
        <img src="{!$Resource.subscriberIcon}" style="height: 100%" class="slds-align--absolute-center"/>
      </div>

      <aura:if isTrue="{!v.project.Subscribers__c == null}">
        <div class="count slds-m-bottom--xx-small ">
          You
        </div>
        <div class="detail slds-p-vertical--x-small ">
          and your neighbors are subscribed
        </div>
      <aura:set attribute="else" >
        <div class="count ">
          {!v.project.Subscribers__c}
        </div>
        <div class="detail slds-p-vertical--x-small">
          local community solar subscribers
        </div>
      </aura:set>
      </aura:if>
    </lightning:layoutItem>
  </lightning:layout>

  </aura:set>
  </aura:if>


</aura:component>