<aura:component implements="forceCommunity:availableForAllPageTypes" extends="c:BlueWaveParent" controller="SLPAllCustomersHandler" access="global">
  <aura:attribute name="allCustomers" type="Object"  /> 
  <aura:attribute name="licenseType" type="Boolean"  />      
  <aura:attribute type="Boolean" name="sortAsc" />
  <aura:attribute type="Boolean" name="sortArrow" />
  <aura:attribute type="String" name="sortField" />
  <aura:registerEvent name="openCustomer" type="c:SLPAllCustomersEvent"/>
  <aura:handler event="c:SLPCustomerEvent" action="{!c.closeCustomerWindow}" />    
  <aura:handler name="init" value="{!this}" action="{!c.doInit}" />
  <aura:handler name="buttonEvent" event="c:BlueWaveDataTableButtonEvent" action="{!c.executeTableButtonActions}"/>   
  <style>
    @font-face {
    font-family: proximaNovaFont;
    src: url('{!$Resource.ProximaNova}');
    }
    .proximaNovaDataStream {
    font-family: proximaNovaFont;   
    font-size:100%;
    color: #00b2a9;
    }
    .proximaNovaDataBlue {
    font-family: proximaNovaFont;   
    font-size:100%;
    color: #266092;
    }        
  </style>    
  <div aura:id="BWDataTableAllCustomers" class="box">
      <c:BlueWaveDataTable name = "BWDataTableAllCustomers"
                           headerLabels="['Customer', 'Sales Agent', 'Product', 'Status', 'Loan Amount', 'Action']" 
                           tableRecords="{!v.allCustomers}" 
                           recordFieldNames="['Name', 'Sales_Agent__r.Name', 'Product__r.Name', 'Partner_Tasks__r[0].Name', 'Requested_Loan_Amount__c', 'Action']"
                           fieldTypeMap="{Requested_Loan_Amount__c: 'Currency'}"
                           colorMap="{'Partner_Tasks__r[0].Name': '#00B2A9'}"
                           allButtonLabels="View"
                           allButtonEvents="openCustomerWindow"/>
   </div>                        
   <div aura:id = "allCustomers">
   <div class="slds-form-element slds-lookup" data-select="single">
   <label class="slds-form-element__label proximaNovaDataStream" for="lookup-63"><b>Customer Search</b></label>
       <div class="slds-form-element__control">
          <div class="slds-input-has-icon slds-input-has-icon--right ">
              <ui:inputText aura:id="customerSearch"
                     class="slds-lookup__search-input slds-input" 
                     placeholder="Search Name"
                     value=""
                     change="{!c.searchCustomers}"/>       
         </div>       
      </div>
  </div> 
</div>     
</aura:component>
