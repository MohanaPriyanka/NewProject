<aura:component implements="forceCommunity:availableForAllPageTypes" extends="c:BlueWaveParent" controller="SLPAllCustomersHandler" access="global">
  <aura:handler name="init" value="{!this}" action="{!c.doInit}" />
  <aura:handler name="change" value="{!v.allCustomers}" action="{!c.setSearchableValues}" /> 
  <aura:handler name="buttonEvent" event="c:BlueWaveDataTableButtonEvent" action="{!c.executeTableButtonActions}"/>    
  <aura:handler event="c:BlueWaveSearchEvent" action="{!c.executeSearch}"/>
  <aura:attribute name="runSetSearchable" type="Boolean" default="true" />   
  <aura:attribute name="allCustomers" type="Object"  /> 
  <aura:attribute name="allCustomersSearchableValues" type="Object"  /> 
  <aura:attribute name="originalAllCustomers" type="Object"  />
  <aura:attribute name="licenseType" type="String"  />      
  <aura:attribute name="sortAsc" type="Boolean" />
  <aura:attribute name="sortArrow" type="Boolean" />
  <aura:attribute name="sortField" type="String"/>
  <div aura:id="BWDataTableAllCustomers" class="box">
    <c:BlueWaveDataTable name = "BWDataTableAllCustomers"
                         headerLabels="['Customer', 'Sales Agent', 'Product', 'Status', 'Loan Amount', 'Funded', 'Action']" 
                         tableRecords="{!v.allCustomers}" 
                         recordFieldNames="['Name', 'Sales_Agent__r.Name', 'Product__r.ProductCode', 'Partner_Tasks__r[0].Name', 'Requested_Loan_Amount__c', 'Total_Funds_Disbursed__c', 'Action']"
                         fieldTypeMap="{Requested_Loan_Amount__c: 'Currency', Total_Funds_Disbursed__c: 'Currency'}"
                         colorMap="{'Partner_Tasks__r[0].Name': '#00B2A9'}"
                         allButtonLabels="View"
                         allButtonEvents="openCustomerWindow"
                         profileSecurityMap="{User: ['Funded', 'Total_Funds_Disbursed__c']}"/>
   </div>                           
</aura:component>
  