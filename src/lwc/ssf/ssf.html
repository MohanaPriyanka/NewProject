<template>
    <div class={containerStyles}>
        <template if:true={getEmail}>
            <div class="slds-grid slds-wrap slds-var-p-around_large">
                <div class="slds-size_1-of-1">
                    <div class="slds-text-align_center">
                        <h4 class="slds-var-p-bottom_medium">
                            Please enter the applicant's email address to retrieve their application:
                        </h4>
                        <p>Email Address</p>
                        <div class="slds-align_absolute-center slds-var-p-top_x-small"
                             style="width: 70%;" onkeyup={checkForSubmit}>
                            <lightning-input
                                data-id="emailEntry"
                                name="email"
                                label="Email Address"
                                variant="label-hidden"
                                value={email}
                                onchange={genericOnChange}
                                type="email"
                                class="slds-var-m-bottom_large">
                            </lightning-input>
                        </div>
                        <button class="btn slds-var-m-horizontal_small" onclick={resumeApp}>Resume Application</button>
                    </div>
                </div>
            </div>
        </template>
        <template if:true={getZip}>
            <c-ssf-zip-check
                resi-application-type={resiApplicationType} 
                partner-id={partnerId}
                zip-code-input={zipCodeInput}
                onspinnermessageupdate={handleSpinnerMessageEvent}
                ontoggleloading={toggleLoadingSpinner}
                onreadystate={handleReadyStateEvent}
                oncapacitycheckcomplete={handleCapacityCheckComplete}>
            </c-ssf-zip-check>
        </template>
        <template if:true={getBasicInfo}>
            <c-ssf-basic-info 
                lead-json={leadJSON} 
                zip-check-response={zipCodeResponse} 
                resi-application-type={resiApplicationType} 
                underwriting-options={underwritingOptions}
                partner-id={partnerId}
                sales-rep-id={salesRepId}
                campaign-id={campaignId}
                onspinnermessageupdate={handleSpinnerMessageEvent}
                onresetreadystate={handleResetReadyStateEvent}
                onreadystate={handleReadyStateEvent}
                ontoggleloading={toggleLoadingSpinner}
                onleadcreated={handleLeadCreation}
                onunderwritingchange={setUnderwritingMethod}>
            </c-ssf-basic-info>
        </template>
        <template if:true={getAgreements}>
            <c-ssf-agreements
                lead-json={leadJSON}
                onspinnermessageupdate={handleSpinnerMessageEvent}
                onresetreadystate={handleResetReadyStateEvent}
                onreadystate={handleReadyStateEvent}
                onconsentscomplete={handleConsentsComplete}
                onnavigateback={handleNavigateBackToBasicInfo}
                ontoggleloading={toggleLoadingSpinner}
                underwriting={underwriting}>
            </c-ssf-agreements>
        </template>
    </div>
    <c-bluewave-spinner fade-in="true" spinner-message={spinnerMessage} show={showSpinner}></c-bluewave-spinner>
</template>