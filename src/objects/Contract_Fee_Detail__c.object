<?xml version="1.0" encoding="UTF-8"?>
<CustomObject xmlns="http://soap.sforce.com/2006/04/metadata">
    <actionOverrides>
        <actionName>Accept</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Accept</actionName>
        <formFactor>Large</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Accept</actionName>
        <formFactor>Small</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>CancelEdit</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>CancelEdit</actionName>
        <formFactor>Large</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>CancelEdit</actionName>
        <formFactor>Small</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Clone</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Clone</actionName>
        <formFactor>Large</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Clone</actionName>
        <formFactor>Small</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Delete</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Delete</actionName>
        <formFactor>Large</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Delete</actionName>
        <formFactor>Small</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Edit</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Edit</actionName>
        <formFactor>Large</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Edit</actionName>
        <formFactor>Small</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>List</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>List</actionName>
        <formFactor>Large</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>List</actionName>
        <formFactor>Small</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>New</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>New</actionName>
        <formFactor>Large</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>New</actionName>
        <formFactor>Small</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>SaveEdit</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>SaveEdit</actionName>
        <formFactor>Large</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>SaveEdit</actionName>
        <formFactor>Small</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Tab</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Tab</actionName>
        <formFactor>Large</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Tab</actionName>
        <formFactor>Small</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>View</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>View</actionName>
        <formFactor>Large</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>View</actionName>
        <formFactor>Small</formFactor>
        <type>Default</type>
    </actionOverrides>
    <allowInChatterGroups>true</allowInChatterGroups>
    <compactLayoutAssignment>SYSTEM</compactLayoutAssignment>
    <deploymentStatus>Deployed</deploymentStatus>
    <enableActivities>true</enableActivities>
    <enableBulkApi>true</enableBulkApi>
    <enableFeeds>true</enableFeeds>
    <enableHistory>true</enableHistory>
    <enableLicensing>false</enableLicensing>
    <enableReports>true</enableReports>
    <enableSearch>false</enableSearch>
    <enableSharing>true</enableSharing>
    <enableStreamingApi>true</enableStreamingApi>
    <externalSharingModel>ControlledByParent</externalSharingModel>
    <fields>
        <fullName>Acq_Anchor_Qualif_Investment_Grade__c</fullName>
        <defaultValue>false</defaultValue>
        <externalId>false</externalId>
        <inlineHelpText>When checked, this fee will only be valid for anchors that are Investment Grade</inlineHelpText>
        <label>Acq Anchor Qualif: Investment-Grade</label>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Checkbox</type>
    </fields>
    <fields>
        <fullName>Acq_Anchor_Qualif_Not_Investment_Grade__c</fullName>
        <defaultValue>false</defaultValue>
        <externalId>false</externalId>
        <inlineHelpText>When checked, this fee will valid for anchors that are not Investment Grade (ie, Financial Review)</inlineHelpText>
        <label>Acq Anchor Qualif: Not Investment-Grade</label>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Checkbox</type>
    </fields>
    <fields>
        <fullName>Acquisition_Channels_BCS_Acquired__c</fullName>
        <defaultValue>false</defaultValue>
        <externalId>false</externalId>
        <inlineHelpText>True if this fee is valid for customers acquired by BCS</inlineHelpText>
        <label>Acq Channels: BCS Acquired</label>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Checkbox</type>
    </fields>
    <fields>
        <fullName>Acquisition_Channels_Closed_by_BCS__c</fullName>
        <defaultValue>false</defaultValue>
        <externalId>false</externalId>
        <inlineHelpText>When lead is acquired by Client but Closed by BlueWave</inlineHelpText>
        <label>Acq Channels: Client Acquired/BCS Closed</label>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Checkbox</type>
    </fields>
    <fields>
        <fullName>Acquisition_Channels_Non_BCS_Acquired__c</fullName>
        <defaultValue>false</defaultValue>
        <externalId>false</externalId>
        <inlineHelpText>True if this fee is valid for customers who were not acquired by BCS</inlineHelpText>
        <label>Acq Channels: Non-BCS Acquired</label>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Checkbox</type>
    </fields>
    <fields>
        <fullName>Acquisition_Cust_Group_Anchor__c</fullName>
        <defaultValue>false</defaultValue>
        <externalId>false</externalId>
        <inlineHelpText>True if this fee is valid for customers with the Customer Group = Anchor.
Small offtake (ie, Residential and Non-Residential Customer Groups) can be labeled as &quot;non-Demand Customers&quot; and Anchors can be labeled as &quot;Demand Customers&quot; in client contracts.</inlineHelpText>
        <label>Acquisition Cust. Group: Anchor</label>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Checkbox</type>
    </fields>
    <fields>
        <fullName>Acquisition_Cust_Group_Non_Residential__c</fullName>
        <defaultValue>false</defaultValue>
        <externalId>false</externalId>
        <inlineHelpText>True if valid fee for customers with Customer Group = Non-Residential.
Small offtake (ie, Residential and Non-Residential Customer Groups) can be labeled as &quot;non-Demand Customers&quot; and Anchors can be labeled as &quot;Demand Customers&quot; in client contracts.</inlineHelpText>
        <label>Acquisition Cust. Group: Non-Residential</label>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Checkbox</type>
    </fields>
    <fields>
        <fullName>Acquisition_Cust_Group_Public_Offtake__c</fullName>
        <defaultValue>false</defaultValue>
        <externalId>false</externalId>
        <inlineHelpText>True if valid fee for customers with the Customer Group = Public Offtake.
Small offtake (ie, Residential and Non-Residential Customer Groups) can be labeled as &quot;non-Demand Customers&quot; and Anchors can be labeled as &quot;Demand Customers&quot; in client contracts.</inlineHelpText>
        <label>Acquisition Cust. Group: Public Offtake</label>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Checkbox</type>
    </fields>
    <fields>
        <fullName>Acquisition_Cust_Group_Residential__c</fullName>
        <defaultValue>false</defaultValue>
        <externalId>false</externalId>
        <inlineHelpText>True if valid fee for customers with the Customer Group = Residential.
Small offtake (ie, Residential and Non-Residential Customer Groups) can be labeled as &quot;non-Demand Customers&quot; and Anchors can be labeled as &quot;Demand Customers&quot; in client contracts.</inlineHelpText>
        <label>Acquisition Cust. Group: Residential</label>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Checkbox</type>
    </fields>
    <fields>
        <fullName>Acquisition_Sizing_Type_Downsizing__c</fullName>
        <defaultValue>false</defaultValue>
        <externalId>false</externalId>
        <inlineHelpText>True if this fee is valid for decreases in a customer subscription (- kW)</inlineHelpText>
        <label>Acquisition Sizing Type: Downsizing</label>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Checkbox</type>
    </fields>
    <fields>
        <fullName>Acquisition_Sizing_Type_Upsizing__c</fullName>
        <defaultValue>false</defaultValue>
        <externalId>false</externalId>
        <inlineHelpText>True if this fee is valid for increases in a customer subscription (+ kW)</inlineHelpText>
        <label>Acquisition Sizing Type: Upsizing</label>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Checkbox</type>
    </fields>
    <fields>
        <fullName>Acquisition_Type_Acquisition__c</fullName>
        <defaultValue>false</defaultValue>
        <externalId>false</externalId>
        <inlineHelpText>As opposed to Reacquistion. True if this fee is valid for acquistion</inlineHelpText>
        <label>Acquisition Type: Acquisition</label>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Checkbox</type>
    </fields>
    <fields>
        <fullName>Acquisition_Type_Reacquisition__c</fullName>
        <defaultValue>false</defaultValue>
        <externalId>false</externalId>
        <inlineHelpText>As opposed to Acquistion. True if this fee is valid for reacquistion</inlineHelpText>
        <label>Acquisition Type: Reacquisition</label>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Checkbox</type>
    </fields>
    <fields>
        <fullName>Contract__c</fullName>
        <externalId>false</externalId>
        <inlineHelpText>The related Client Contract</inlineHelpText>
        <label>Contract</label>
        <lookupFilter>
            <active>true</active>
            <errorMessage>Contract Fee Detail must be related to a contract with the record type = Client Contract</errorMessage>
            <filterItems>
                <field>Contract.RecordTypeId</field>
                <operation>equals</operation>
                <value>Client Contract</value>
            </filterItems>
            <isOptional>false</isOptional>
        </lookupFilter>
        <referenceTo>Contract</referenceTo>
        <relationshipLabel>Contract Fee Detail</relationshipLabel>
        <relationshipName>Contract_Fee_Detail</relationshipName>
        <relationshipOrder>0</relationshipOrder>
        <reparentableMasterDetail>false</reparentableMasterDetail>
        <trackFeedHistory>false</trackFeedHistory>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>MasterDetail</type>
        <writeRequiresMasterRead>false</writeRequiresMasterRead>
    </fields>
    <fields>
        <fullName>Fee_Summary__c</fullName>
        <externalId>false</externalId>
        <formula>IF(OR(Acquisition_Type_Acquisition__c, Acquisition_Type_Reacquisition__c, Management_Fee__c),
   &quot;This $&quot;&amp;TEXT(Fee__c)&amp;&quot;/&quot;&amp;TEXT(Fee_Unit__c) 
   &amp;&quot; &quot;
   &amp;IF(Acquisition_Type_Acquisition__c,
       IF(Acquisition_Type_Reacquisition__c,&quot;acquisition and reacquisition&quot;,&quot;acquisition&quot;),
       IF(Acquisition_Type_Reacquisition__c,&quot;reacquisition&quot;, TEXT(Management_Fee_Type__c) &amp; &quot; management&quot;))
   &amp;&quot; fee is valid for &quot;
   &amp;IF(OR(Acquisition_Type_Acquisition__c, Acquisition_Type_Reacquisition__c),
       /* Acq and Reacq */
       IF(NOT(ISBLANK(Shared_Solar_System__c)), &quot; customers on &quot; &amp; Shared_Solar_System__r.Name &amp; &quot; and&quot;,&quot;&quot;)
       &amp;&quot; customer opportunity group(s): {&quot;
       &amp;IF(Acquisition_Cust_Group_Anchor__c, &quot;Anchor, &quot;, &quot;&quot;)
       &amp;IF(Acquisition_Cust_Group_Public_Offtake__c, &quot;Public Offtake, &quot;, &quot;&quot;)
       &amp;IF(Acquisition_Cust_Group_Residential__c, &quot;Residential, &quot;, &quot;&quot;)
       &amp;IF(Acquisition_Cust_Group_Non_Residential__c, &quot;Non-Residential&quot;, &quot;&quot;)
       &amp;&quot;} where customers were acquired by &quot;
       &amp;IF(Acquisition_Channels_BCS_Acquired__c,
           IF(Acquisition_Channels_Non_BCS_Acquired__c, &quot;BCS or the Client&quot;, &quot;BCS&quot;),
           IF(Acquisition_Type_Reacquisition__c, &quot;the client&quot;, &quot;&quot;))
       &amp;&quot; and is valid when a customer &quot;
       &amp;IF(Acquisition_Sizing_Type_Upsizing__c,
           IF(Acquisition_Sizing_Type_Downsizing__c, &quot;increases or decreases&quot;, &quot;increases&quot;),
           IF(Acquisition_Sizing_Type_Downsizing__c, &quot;decreases&quot;, &quot;&quot;))
       &amp;&quot; in size (kW) &quot;,
       /* Management */
       IF(ISBLANK(Shared_Solar_System__c),
          IF(Project_Capacity_Group_Anchor__c,
             IF(Project_Capacity_Group_Non_Anchor__c, &quot;anchor and small offtake capacity&quot;, &quot;anchor capacity&quot;),
             IF(Project_Capacity_Group_Non_Anchor__c, &quot;small offtake capacity&quot;, &quot;&quot;))
          &amp;&quot; on &quot; 
          &amp;IF(Project_Type_Acquisition_Management__c,
              &quot;Acquisition &amp; Management&quot;,
              IF( Project_Type_Management_Only__c, &quot;Management-Only&quot;, &quot;&quot;))
          &amp;&quot; projects&quot;,
          Shared_Solar_System__r.Name)   
       &amp;&quot;, beginning on &quot; &amp; TEXT(Management_Fee_Trigger__c) &amp; &quot; date&quot;
       &amp;IF(ISPICKVAL(Management_Fee_Type__c,&quot;Recurring&quot;), &quot;. It is charged &quot; &amp; TEXT(Recurring_Frequency__c),&quot;&quot;)
       &amp;IF(ISBLANK(Recurring_Escalator__c),&quot;&quot;, &quot; with a &quot; &amp; TEXT(Recurring_Escalator_Frequency__c) 
       &amp; &quot; escalator of &quot; &amp; TEXT(Recurring_Escalator__c*100) &amp; &quot;%&quot;)
   )
,&quot;Choose a fee type&quot;)</formula>
        <formulaTreatBlanksAs>BlankAsZero</formulaTreatBlanksAs>
        <label>Fee Summary</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Fee_Unit__c</fullName>
        <externalId>false</externalId>
        <inlineHelpText>See Fee ($) field for numerator. Ie $/W, $/MW (implicitly, per year)</inlineHelpText>
        <label>Fee Unit</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Picklist</type>
        <valueSet>
            <restricted>true</restricted>
            <valueSetDefinition>
                <sorted>false</sorted>
                <value>
                    <fullName>per W</fullName>
                    <default>false</default>
                    <label>per W</label>
                </value>
                <value>
                    <fullName>per MW</fullName>
                    <default>false</default>
                    <label>per MW</label>
                </value>
                <value>
                    <fullName>per project</fullName>
                    <default>false</default>
                    <label>per project</label>
                </value>
            </valueSetDefinition>
        </valueSet>
    </fields>
    <fields>
        <fullName>Fee__c</fullName>
        <externalId>false</externalId>
        <inlineHelpText>The annual $ value of the fee, see &quot;Fee Unit&quot; field for the denominator ($/W year or $/MW year or $/project year)</inlineHelpText>
        <label>Fee ($)</label>
        <precision>18</precision>
        <required>false</required>
        <scale>6</scale>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Currency</type>
    </fields>
    <fields>
        <fullName>Management_Fee_Trigger__c</fullName>
        <externalId>false</externalId>
        <inlineHelpText>The SSS milestone date that starts management fees - can be used for either one-time or recurring fees. For one time, the date the charge is incurred. For recurring, the start date that the recurring charge begins</inlineHelpText>
        <label>Management Fee Trigger</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Picklist</type>
        <valueSet>
            <restricted>true</restricted>
            <valueSetName>Client_Invoicing_Events</valueSetName>
        </valueSet>
    </fields>
    <fields>
        <fullName>Management_Fee_Type__c</fullName>
        <externalId>false</externalId>
        <inlineHelpText>One-Time fees are often called &quot;onboarding fees&quot;</inlineHelpText>
        <label>Management Fee Type</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Picklist</type>
        <valueSet>
            <restricted>true</restricted>
            <valueSetDefinition>
                <sorted>false</sorted>
                <value>
                    <fullName>One-Time</fullName>
                    <default>false</default>
                    <label>One-Time</label>
                </value>
                <value>
                    <fullName>Recurring</fullName>
                    <default>false</default>
                    <label>Recurring</label>
                </value>
            </valueSetDefinition>
        </valueSet>
    </fields>
    <fields>
        <fullName>Management_Fee__c</fullName>
        <defaultValue>false</defaultValue>
        <externalId>false</externalId>
        <label>Management Fee</label>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Checkbox</type>
    </fields>
    <fields>
        <fullName>Product__c</fullName>
        <deleteConstraint>SetNull</deleteConstraint>
        <externalId>false</externalId>
        <label>Product</label>
        <referenceTo>Product2</referenceTo>
        <relationshipLabel>Contract Fee Detail</relationshipLabel>
        <relationshipName>Contract_Fee_Detail</relationshipName>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Lookup</type>
    </fields>
    <fields>
        <fullName>Project_Capacity_Group_Anchor__c</fullName>
        <defaultValue>false</defaultValue>
        <externalId>false</externalId>
        <inlineHelpText>Used for mgmt fees with a fixed $ per portion of the project that is reserved for anchor capacity</inlineHelpText>
        <label>Project Capacity Group: Anchor</label>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Checkbox</type>
    </fields>
    <fields>
        <fullName>Project_Capacity_Group_Non_Anchor__c</fullName>
        <defaultValue>false</defaultValue>
        <externalId>false</externalId>
        <inlineHelpText>Used for mgmt fees with a fixed $ per portion of the project that is reserved for small offtake capacity</inlineHelpText>
        <label>Project Capacity Group: Non-Anchor</label>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Checkbox</type>
    </fields>
    <fields>
        <fullName>Project_Type_Acquisition_Management__c</fullName>
        <defaultValue>false</defaultValue>
        <externalId>false</externalId>
        <inlineHelpText>For management fees that are only relevant for projects that are Acq &amp; Management</inlineHelpText>
        <label>Project Type: Acquisition &amp; Management</label>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Checkbox</type>
    </fields>
    <fields>
        <fullName>Project_Type_Management_Only__c</fullName>
        <defaultValue>false</defaultValue>
        <externalId>false</externalId>
        <inlineHelpText>For management fees that are only relevant for projects that are Management Only</inlineHelpText>
        <label>Project Type: Management Only</label>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Checkbox</type>
    </fields>
    <fields>
        <fullName>Recurring_Billing_Timing__c</fullName>
        <externalId>false</externalId>
        <label>Recurring Billing Timing</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Picklist</type>
        <valueSet>
            <restricted>true</restricted>
            <valueSetDefinition>
                <sorted>false</sorted>
                <value>
                    <fullName>In Arrears</fullName>
                    <default>false</default>
                    <label>In Arrears</label>
                </value>
                <value>
                    <fullName>In Advance</fullName>
                    <default>false</default>
                    <label>In Advance</label>
                </value>
            </valueSetDefinition>
        </valueSet>
    </fields>
    <fields>
        <fullName>Recurring_Escalator_Frequency__c</fullName>
        <externalId>false</externalId>
        <inlineHelpText>The frequency in which a recurring escalator is increased or decreased. For ex.) a fee that increases 2% annually</inlineHelpText>
        <label>Recurring Escalator Frequency</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Picklist</type>
        <valueSet>
            <restricted>true</restricted>
            <valueSetDefinition>
                <sorted>false</sorted>
                <value>
                    <fullName>Monthly</fullName>
                    <default>false</default>
                    <label>Monthly</label>
                </value>
                <value>
                    <fullName>Quarterly</fullName>
                    <default>false</default>
                    <label>Quarterly</label>
                </value>
                <value>
                    <fullName>Annually</fullName>
                    <default>false</default>
                    <label>Annually</label>
                </value>
            </valueSetDefinition>
        </valueSet>
    </fields>
    <fields>
        <fullName>Recurring_Escalator__c</fullName>
        <externalId>false</externalId>
        <inlineHelpText>The % escalator at which recurring charges are increased or decreased over time. See the &quot;Recurring Escalator Frequency&quot; field to set how often the escalator takes effect</inlineHelpText>
        <label>Recurring Escalator</label>
        <precision>9</precision>
        <required>false</required>
        <scale>6</scale>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Percent</type>
    </fields>
    <fields>
        <fullName>Recurring_Frequency__c</fullName>
        <externalId>false</externalId>
        <inlineHelpText>The frequency at which the recurring fee is charged. The start date is set by the &quot;Management Fee Trigger&quot; field</inlineHelpText>
        <label>Recurring Frequency</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Picklist</type>
        <valueSet>
            <restricted>true</restricted>
            <valueSetDefinition>
                <sorted>false</sorted>
                <value>
                    <fullName>Monthly</fullName>
                    <default>false</default>
                    <label>Monthly</label>
                </value>
                <value>
                    <fullName>Quarterly</fullName>
                    <default>false</default>
                    <label>Quarterly</label>
                </value>
                <value>
                    <fullName>Annually</fullName>
                    <default>false</default>
                    <label>Annually</label>
                </value>
            </valueSetDefinition>
        </valueSet>
    </fields>
    <fields>
        <fullName>Shared_Solar_System__c</fullName>
        <deleteConstraint>SetNull</deleteConstraint>
        <externalId>false</externalId>
        <inlineHelpText>Used to make this CFD specific to a SSS when the ClientInvoicingFeeAssignmentService assigns a CFD to a Subscription Order when the SO is approved.</inlineHelpText>
        <label>Shared Solar System</label>
        <referenceTo>Shared_Solar_System__c</referenceTo>
        <relationshipLabel>Contract Fee Detail</relationshipLabel>
        <relationshipName>Contract_Fee_Detail</relationshipName>
        <required>false</required>
        <trackFeedHistory>false</trackFeedHistory>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Lookup</type>
    </fields>
    <fields>
        <fullName>Utilization_Adjustment_Amount__c</fullName>
        <externalId>false</externalId>
        <inlineHelpText>For every 1% decrease in utilization, the management fee will decrease by this $ amount.</inlineHelpText>
        <label>Utilization Adjustment Amount</label>
        <precision>18</precision>
        <required>false</required>
        <scale>2</scale>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Currency</type>
    </fields>
    <fields>
        <fullName>Utilization_Adjustment_Floor__c</fullName>
        <externalId>false</externalId>
        <inlineHelpText>Utilization adjustments cannot be more than X percent of the management fee in a given month</inlineHelpText>
        <label>Utilization Adjustment Floor</label>
        <precision>5</precision>
        <required>false</required>
        <scale>2</scale>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Percent</type>
    </fields>
    <fields>
        <fullName>Utilization_Adjustment_Multiplier__c</fullName>
        <externalId>false</externalId>
        <inlineHelpText>For every 1% decrease in utilization, the management fee will decrease by this percent.</inlineHelpText>
        <label>Utilization Adjustment Multiplier</label>
        <precision>5</precision>
        <required>false</required>
        <scale>2</scale>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Percent</type>
    </fields>
    <fields>
        <fullName>Utilization_Adjustment_Type__c</fullName>
        <externalId>false</externalId>
        <label>Utilization Adjustment Type</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Picklist</type>
        <valueSet>
            <restricted>true</restricted>
            <valueSetDefinition>
                <sorted>false</sorted>
                <value>
                    <fullName>Multiplier (%)</fullName>
                    <default>false</default>
                    <label>Multiplier (%)</label>
                </value>
                <value>
                    <fullName>Amount ($)</fullName>
                    <default>false</default>
                    <label>Amount ($)</label>
                </value>
            </valueSetDefinition>
        </valueSet>
    </fields>
    <fields>
        <fullName>Waive_Reacq_Fee_After_Initial_Period__c</fullName>
        <defaultValue>false</defaultValue>
        <externalId>false</externalId>
        <inlineHelpText>Specifies that reacquisition fees should be waived up to a Max Project % (which could be blank) for Subscription Orders effective after the initial period.</inlineHelpText>
        <label>Waive Reacq Fee After Initial Period</label>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Checkbox</type>
    </fields>
    <fields>
        <fullName>Waive_Reacq_Fee_In_Initial_Period__c</fullName>
        <defaultValue>false</defaultValue>
        <externalId>false</externalId>
        <inlineHelpText>Specifies that reacquisition fees should be waived up to a Max Project % (which could be blank) for Subscription Orders effective before the initial period.</inlineHelpText>
        <label>Waive Reacq Fee In Initial Period</label>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Checkbox</type>
    </fields>
    <fields>
        <fullName>Waive_Reacq_Fee_Max_In_Period__c</fullName>
        <externalId>false</externalId>
        <inlineHelpText>Reacquisition fees will be waived until X% (annually) of the project (calculated by summing SOs with waived fee CIMs) has been reacquired in the initial period. If blank, all SOs will get CIMs to waive fees (potentially more than 100% of the project).</inlineHelpText>
        <label>Waive Reacq Fee: Max % In Period</label>
        <precision>7</precision>
        <required>false</required>
        <scale>4</scale>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Percent</type>
    </fields>
    <fields>
        <fullName>Waive_Reacquisition_Fee_Max_Project__c</fullName>
        <externalId>false</externalId>
        <inlineHelpText>Reacquisition fees will be waived until X% (annually) of the project (calculated by summing SOs with waived fee CIMs) has been reacquired after the initial period. If blank, all SOs will get CIMs to waive fees (potentially more than 100% of the project).</inlineHelpText>
        <label>Waive Reacq Fee: Max % After Period</label>
        <precision>7</precision>
        <required>false</required>
        <scale>4</scale>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Percent</type>
    </fields>
    <fields>
        <fullName>Waive_Reacquisition_Fee_Number_Months__c</fullName>
        <defaultValue>0</defaultValue>
        <externalId>false</externalId>
        <inlineHelpText>Must be populated at same time as field Waive Reacq Fee:Initial Period Milestone. The milestone + # of Months defines the end of the initial period, allowing us to waive fees before or after that initial period. Could be 0 but not blank.</inlineHelpText>
        <label>Waive Reacq Fee: # of Months</label>
        <precision>3</precision>
        <required>false</required>
        <scale>0</scale>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Number</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Waive_Reacquisition_Fee_Project_Date__c</fullName>
        <externalId>false</externalId>
        <inlineHelpText>Must be populated at same time as field Waive Reacq Fee: # of Months. The milestone + # of Months defines the end of the initial period, allowing us to waive fees before or after that initial period.</inlineHelpText>
        <label>Waive Reacq Fee:Initial Period Milestone</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Picklist</type>
        <valueSet>
            <restricted>true</restricted>
            <valueSetName>Client_Invoicing_Events</valueSetName>
        </valueSet>
    </fields>
    <label>Contract Fee Detail</label>
    <nameField>
        <displayFormat>CFD-{000000}</displayFormat>
        <label>Contract Fee Detail Name</label>
        <trackFeedHistory>false</trackFeedHistory>
        <trackHistory>false</trackHistory>
        <type>AutoNumber</type>
    </nameField>
    <pluralLabel>Contract Fee Detail</pluralLabel>
    <searchLayouts />
    <sharingModel>ControlledByParent</sharingModel>
    <validationRules>
        <fullName>CFD_Checkbox_Acquisition</fullName>
        <active>true</active>
        <description>A CFD can only have one Fee Type selected, so “Acquisition Type: Acquisition” can only be checked if “Management Fee” and “Acquisition Type: Reacquisition” are not selected.</description>
        <errorConditionFormula>AND(Acquisition_Type_Acquisition__c, OR(Acquisition_Type_Reacquisition__c, Management_Fee__c))</errorConditionFormula>
        <errorDisplayField>Acquisition_Type_Acquisition__c</errorDisplayField>
        <errorMessage>You can only have one Fee Type selected for a Contract Fee Detail object.</errorMessage>
    </validationRules>
    <validationRules>
        <fullName>CFD_Checkbox_Management_Fee</fullName>
        <active>true</active>
        <description>A CFD can only have one Fee Type selected, so “Management Fee” can only be checked if “Acquisition Type: Acquisition” and “Acquisition Type: Reacquisition” are not selected.</description>
        <errorConditionFormula>AND(Management_Fee__c, OR(Acquisition_Type_Acquisition__c, Acquisition_Type_Reacquisition__c))</errorConditionFormula>
        <errorDisplayField>Management_Fee__c</errorDisplayField>
        <errorMessage>You can only have one Fee Type selected for a Contract Fee Detail object.</errorMessage>
    </validationRules>
    <validationRules>
        <fullName>CFD_Checkbox_Reacquisition</fullName>
        <active>true</active>
        <description>A CFD can only have one Fee Type selected, so “Acquisition Type: Reacquisition” can only be checked if “Management Fee” and “Acquisition Type: Acquisition” are not selected.</description>
        <errorConditionFormula>AND(Acquisition_Type_Reacquisition__c, OR(Acquisition_Type_Acquisition__c, Management_Fee__c))</errorConditionFormula>
        <errorDisplayField>Acquisition_Type_Reacquisition__c</errorDisplayField>
        <errorMessage>You can only have one Fee Type selected for a Contract Fee Detail object.</errorMessage>
    </validationRules>
    <validationRules>
        <fullName>Do_not_populate_acq_fee_fields_if_mgmt</fullName>
        <active>true</active>
        <errorConditionFormula>AND(
Management_Fee__c,
OR(
Acquisition_Cust_Group_Anchor__c,
Acquisition_Cust_Group_Residential__c, 
Acquisition_Sizing_Type_Downsizing__c,  
Acquisition_Sizing_Type_Upsizing__c,  
Acquisition_Channels_BCS_Acquired__c,  
Acquisition_Channels_Non_BCS_Acquired__c  
)
)</errorConditionFormula>
        <errorDisplayField>Management_Fee__c</errorDisplayField>
        <errorMessage>If this is an management fee, do not populate acquisition fee fields</errorMessage>
    </validationRules>
    <validationRules>
        <fullName>Do_not_populate_mgmt_fee_fields_if_acq</fullName>
        <active>true</active>
        <errorConditionFormula>AND(
OR(
 Acquisition_Type_Acquisition__c ,
 Acquisition_Type_Reacquisition__c 
),
OR(
Project_Capacity_Group_Anchor__c, Project_Capacity_Group_Non_Anchor__c,  Project_Type_Acquisition_Management__c,  Project_Type_Management_Only__c,
NOT(ISPICKVAL(Management_Fee_Trigger__c,&quot;&quot;)),
NOT(ISPICKVAL(Management_Fee_Type__c,&quot;&quot;))
)
)</errorConditionFormula>
        <errorDisplayField>Acquisition_Type_Acquisition__c</errorDisplayField>
        <errorMessage>If this is an acquisition fee, do not populate management fee fields</errorMessage>
    </validationRules>
    <validationRules>
        <fullName>Fee_Type_Must_Be_Set</fullName>
        <active>true</active>
        <errorConditionFormula>NOT(
OR(
Acquisition_Type_Acquisition__c,
Acquisition_Type_Reacquisition__c,
Management_Fee__c 
)
)</errorConditionFormula>
        <errorMessage>You must set the fee type to be either Acquisition, Reacquisition or Management</errorMessage>
    </validationRules>
    <validationRules>
        <fullName>Non_BCS_Acquired_If_BCS_Closed</fullName>
        <active>true</active>
        <description>The &quot;Acq Channels: Non-BCS Acquired&quot; field must be checked if &quot;Acq Channels: Client Acquired/BCS Closed&quot; is going to be checked.</description>
        <errorConditionFormula>AND(Acquisition_Channels_Closed_by_BCS__c, NOT(Acquisition_Channels_Non_BCS_Acquired__c))</errorConditionFormula>
        <errorDisplayField>Acquisition_Channels_Closed_by_BCS__c</errorDisplayField>
        <errorMessage>&quot;Acq Channels: Non-BCS Acquired&quot; must be checked if &quot;Acq Channels: Client Acquired/BCS Closed&quot; is going to be checked.</errorMessage>
    </validationRules>
    <validationRules>
        <fullName>Recurring_Field_Must_be_Populated_Togeth</fullName>
        <active>true</active>
        <errorConditionFormula>OR(
AND( 
ISPICKVAL(Management_Fee_Type__c,&quot;Recurring&quot;),
ISPICKVAL(Recurring_Frequency__c,&quot;&quot;)
),
AND( 
NOT(ISPICKVAL(Management_Fee_Type__c,&quot;Recurring&quot;)),
NOT(ISPICKVAL(Recurring_Frequency__c,&quot;&quot;))
)
)</errorConditionFormula>
        <errorDisplayField>Management_Fee_Type__c</errorDisplayField>
        <errorMessage>If this fee is recurring, you must populate the recurring frequency field. You can&apos;t populate recurring frequency without also setting the fee type to recurring</errorMessage>
    </validationRules>
    <validationRules>
        <fullName>Utilization_Amount_Type_Match</fullName>
        <active>true</active>
        <errorConditionFormula>AND(ISPICKVAL(Utilization_Adjustment_Type__c, &quot;Amount ($)&quot;),ISBLANK(Utilization_Adjustment_Amount__c))</errorConditionFormula>
        <errorMessage>If you selected Amount for the Utilization Adjustment Type, then you need to fill out the &apos;Utilization Adjustment Amount&apos; field.</errorMessage>
    </validationRules>
    <validationRules>
        <fullName>Utilization_Multiplier_Type_Match</fullName>
        <active>true</active>
        <errorConditionFormula>AND(ISPICKVAL(Utilization_Adjustment_Type__c, &quot;Multiplier (%)&quot;),ISBLANK(Utilization_Adjustment_Multiplier__c ))</errorConditionFormula>
        <errorMessage>If you selected the Multiplier for the Utilization Adjustment Type, then you need to fill out the &apos;Utilization Adjustment Multiplier&apos; field.</errorMessage>
    </validationRules>
    <visibility>Public</visibility>
</CustomObject>