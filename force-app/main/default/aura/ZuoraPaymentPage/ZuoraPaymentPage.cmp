<aura:component description="ZuoraPaymentPage" controller="ZuoraPaymentPageController" extends="c:BlueWaveParent">
  <aura:handler name="init" value="{!this}" action="{!c.doInit}" />
  <aura:attribute name="paymentPageMetadata" type="Object"/>
  <aura:attribute name="paymentType" type="String"/>
  <aura:attribute name="consentToStorePaymentCredential" type="Boolean"/>
  <aura:attribute name="zuoraAccountId" type="String"/>
  <aura:attribute name="defaultName" type="String"/>
  <aura:attribute name="defaultZip" type="String"/>
  <aura:attribute name="postOnloadEvent" type="boolean" default="false"/>
  <aura:attribute name="showSpinner" type="boolean" default="false"/>
  <aura:attribute name="spinnerMessage" type="String" default="Loading..."/>

  <!-- Isn't compatible with locker service, so we're setting the version of this component to 39. -->
  <ltng:require scripts="{!$Resource.Zuora131Min}"/>
  <aura:handler name="change" value="{!v.paymentType}" action="{!c.renderPaymentFrame}"/>

  <!-- We can't use aura:if to show/hide the zuora_payment div because the paymentType change handler expects to
       use the div before it's rendered? -->
  <div id="zuora_payment" style="{!or(v.paymentType == 'ACH', v.paymentType == 'Credit Card')?'display:block':'display:none'}"></div>
  <c:bluewaveSpinner spinnerMessage="{!v.spinnerMessage}" show="{!v.showSpinner}"/>

</aura:component>